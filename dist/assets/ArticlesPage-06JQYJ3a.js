var L=Object.defineProperty;var N=(n,i,t)=>i in n?L(n,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[i]=t;var r=(n,i,t)=>N(n,typeof i!="symbol"?i+"":i,t);import{j as s}from"./vendor-query-sc-3RV5c.js";import{r as p,e as P,u as _,f as C}from"./vendor-react-BsyC4uYt.js";import{P as R}from"./PageHeader-D-7p38kC.js";import{C as E}from"./ContentCard-BqK8UsLU.js";import{u as S,S as $}from"./useTags-CvsrkJ8w.js";import{S as z}from"./SEO-BQWZoWKI.js";import{u as H,a as A,p as I}from"./main-Cm2q55zG.js";import{u as F,a as W,f as q}from"./useArticles-CBe8LjoM.js";import"./vendor-helmet-BvUtKEoN.js";import"./vendor-ui-BIzQpSM7.js";const B=[{type:"standard",color:"color-1"},{type:"tall",color:"color-2"},{type:"wide",color:"color-3"},{type:"standard",color:"color-1"},{type:"thin",color:"color-2"},{type:"tall",color:"color-3"},{type:"standard",color:"color-1"},{type:"wide",color:"color-2"}];class k{constructor(i,t,o){r(this,"element");r(this,"x");r(this,"y");r(this,"vx");r(this,"vy");r(this,"size");r(this,"lifetime");r(this,"age");r(this,"delay");r(this,"delayed");r(this,"opacity");r(this,"blur");r(this,"colorClass");this.element=document.createElement("div"),this.element.className="spark";const l=["color-1","color-2","color-3","color-4","color-5"];this.colorClass=l[Math.floor(Math.random()*l.length)],this.element.classList.add(this.colorClass);const g=window.innerWidth*.2,d=window.innerWidth*.8;if(this.x=g+Math.random()*(d-g),o!==void 0?this.y=o:this.y=window.innerHeight*.7+Math.random()*(window.innerHeight*.25),this.vx=(Math.random()-.5)*.8,this.vy=-2-Math.random()*2,this.size=2+Math.random()*3,this.element.style.width=`${this.size}px`,this.element.style.height=`${this.size}px`,this.lifetime=3e3+Math.random()*4e3,this.age=t!==void 0?t:0,this.delay=0,this.delayed=!0,this.opacity=0,this.blur=0,t!==void 0&&t>0){const h=this.age/this.lifetime,y=(window.innerHeight-this.y)/window.innerHeight;h<.1?this.opacity=h/.1:h>.8?this.opacity=(1-h)/.2:this.opacity=.6+Math.sin(h*Math.PI*4)*.2,this.blur=y*3;const m=.7+Math.sin(this.age/500)*.3;this.element.style.opacity=(this.opacity*m*.6).toString(),this.element.style.filter=`blur(${this.blur}px)`}this.updatePosition(),i.appendChild(this.element)}updatePosition(){this.element.style.left=`${this.x}px`,this.element.style.top=`${this.y}px`}update(i){if(!this.delayed){if(this.delay-=i,this.delay>0)return this.element.style.opacity="0",!0;this.delayed=!0}this.age+=i,this.x+=this.vx,this.y+=this.vy,this.vx+=(Math.random()-.5)*.1,this.vy+=(Math.random()-.5)*.05,this.vx*=.99,this.vy*=.995;const t=this.age/this.lifetime,o=(window.innerHeight-this.y)/window.innerHeight;t<.1?this.opacity=t/.1:t>.8?this.opacity=(1-t)/.2:this.opacity=.6+Math.sin(t*Math.PI*4)*.2,this.blur=o*3;const l=.7+Math.sin(this.age/500)*.3;return this.element.style.opacity=(this.opacity*l*.6).toString(),this.element.style.filter=`blur(${this.blur}px)`,this.updatePosition(),this.age>=this.lifetime||this.y<-50||this.x<-50||this.x>window.innerWidth+50?(this.element.remove(),!1):!0}}function D(){const n=p.useRef(null),i=p.useRef(null),t=p.useRef([]),o=p.useRef(),l=p.useRef(performance.now()),g=p.useRef(0),d=2500,h=20;return p.useEffect(()=>{n.current&&B.forEach(a=>{const c=document.createElement("div");c.className=`book ${a.type} ${a.color}`,n.current.appendChild(c)});function y(){if(!i.current)return;const a=Math.min(d,2e3);for(let c=0;c<a;c++){const e=new k(i.current);e.delayed=!0,e.delay=0;const w=5e3;e.age=Math.random()*w;const b=50,f=e.age/b;for(let x=0;x<b;x++)e.x+=e.vx*(f/16.67),e.y+=e.vy*(f/16.67),e.vx*=.99,e.vy*=.995,e.vx+=(Math.random()-.5)*.1*(f/16.67),e.vy+=(Math.random()-.5)*.05*(f/16.67);const u=e.age/e.lifetime,M=(window.innerHeight-e.y)/window.innerHeight;u<.1?e.opacity=u/.1:u>.8?e.opacity=(1-u)/.2:e.opacity=.6+Math.sin(u*Math.PI*4)*.2,e.blur=M*3;const j=.7+Math.sin(e.age/500)*.3;e.element.style.opacity=(e.opacity*j*.6).toString(),e.element.style.filter=`blur(${e.blur}px)`,e.updatePosition(),t.current.push(e)}}y();function m(a){const c=a-l.current;if(l.current=a,i.current&&a-g.current>=h){if(t.current.length<d){const e=new k(i.current);t.current.push(e)}g.current=a}for(let e=t.current.length-1;e>=0;e--)t.current[e].update(c)||t.current.splice(e,1);o.current=requestAnimationFrame(m)}o.current=requestAnimationFrame(m);function v(){t.current.forEach((a,c)=>{(a.x<-100||a.x>window.innerWidth+100)&&(a.element.remove(),t.current.splice(c,1))})}return window.addEventListener("resize",v),()=>{o.current&&cancelAnimationFrame(o.current),window.removeEventListener("resize",v),t.current.forEach(a=>a.element.remove()),t.current=[]}},[]),s.jsxs("div",{className:"ideas-background absolute inset-0 overflow-hidden pointer-events-none z-0",children:[s.jsx("div",{ref:n,className:"books-container"}),s.jsx("div",{ref:i,className:"sparks-container"})]})}function ee(){const{lang:n}=P(),i=_(),{t}=H(),[o]=C(),{defaultLang:l,loading:g}=A(),d=n||I(i.pathname).lang||void 0,y=!!d||!g,m=d||l||null,v=o.get("category"),a=o.get("tag"),{data:c=[],isLoading:e}=F({per_page:100,orderby:"date",order:"desc",article_categories:v||void 0,tags:a||void 0,lang:m||void 0,enabled:y}),{data:w=[],isLoading:b}=W(),{data:f=[],isLoading:u}=S({hide_empty:!0,post_type:"articles"}),M=p.useMemo(()=>q(c,m),[c,m]);return!y||e||b||u?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"}),s.jsx("p",{className:"mt-4 text-gray-600",children:t("ui_loading")})]})}):s.jsxs(s.Fragment,{children:[s.jsx(z,{title:t("page_articles"),description:t("seo_articles_description"),keywords:"M2DMM articles, disciple making movements, media strategy, digital evangelism, church planting articles, online ministry, practical discipleship, field insights, kingdom training articles",url:"/articles"}),s.jsx(R,{title:t("page_articles"),description:t("seo_articles_description"),backgroundClass:"bg-gradient-to-r from-secondary-900 to-secondary-700",backgroundComponent:s.jsx(D,{})}),s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx($,{categories:w,tags:f,basePath:d?`/${d}/articles`:"/articles"})}),s.jsx("div",{className:"lg:col-span-3",children:M.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:M.map(x=>s.jsx(E,{post:x,type:"articles",lang:d||null,defaultLang:l},x.id))}):s.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-6xl mb-4",children:"üìù"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("content_no_articles_found")}),s.jsx("p",{className:"text-gray-600",children:t("content_no_articles_try")})]})})]})})})]})}export{ee as default};
