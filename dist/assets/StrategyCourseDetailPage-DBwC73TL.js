import{c as I,b as O,d as R,u as U,e as A,p as F,r as u,n as H,j as e,L as p,f as x,s as _,S as K}from"./main-D478NNWS.js";import{b as V,u as W,a as q,g as z}from"./useCourses-BCFTrQ3-.js";import{P as B,C as N}from"./ProgressIndicator-C4chQiLw.js";import{C as G}from"./ContentCard-Bj6E3VJY.js";import{S as J}from"./SEO-D6R6bQbr.js";import{F as Q,A as X}from"./FeaturedImage-CCo3WYgf.js";import"./auth-BiqxfGvi.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Z=I("chevron-left",Y);function le(){var b,j;const{slug:o,lang:w}=O(),S=R(),{t:a,tWithReplace:g}=U(),i=A(),n=w||F(S.pathname).lang||void 0,h=n||i||null;u.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]);const{data:s,isLoading:L,isError:k}=V(o,n),{data:t=[],isLoading:$}=W(n,i),{data:f=[],isLoading:C}=q({per_page:100,orderby:"date",order:"desc",lang:n}),y=u.useMemo(()=>z(f,t,o,h,9),[f,t,o,h]),{currentStep:M,nextStep:c,previousStep:m}=u.useMemo(()=>{if(!o||t.length===0)return{currentStep:null,nextStep:null,previousStep:null};const r=t.findIndex(T=>T.slug===o);return r===-1?{currentStep:null,nextStep:null,previousStep:null}:{currentStep:t[r],nextStep:r<t.length-1?t[r+1]:null,previousStep:r>0?t[r-1]:null}},[o,t]);if(u.useEffect(()=>{s&&s.steps!==null&&s.steps!==void 0&&s.steps>=1&&s.steps<=20&&H(s.slug)},[s]),L||$||C)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"}),e.jsx("p",{className:"mt-4 text-gray-600",children:a("ui_loading")})]})});if(k||!s)return e.jsxs("div",{className:"container-custom py-16 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:a("error_course_not_found")}),e.jsx("p",{className:"text-gray-600 mb-8",children:a("error_course_not_found_desc")}),e.jsx(p,{to:x("/strategy-courses",n||null,i),className:"text-primary-500 hover:text-primary-600 font-medium",children:a("nav_back_to_strategy_courses")})]});const l=s.steps&&s.steps>=1&&s.steps<=20?`${s.steps}. ${s.title.rendered}`:s.title.rendered,v=(b=s.excerpt)!=null&&b.rendered?_(s.excerpt.rendered):_(s.content.rendered).substring(0,160),D=`M2DMM strategy course, ${l}, MVP course step ${s.steps||""}, media to movements, disciple making strategy, ${l.toLowerCase()}`,d=typeof window<"u"?window.location.origin:"https://ai.kingdom.training",E=`${d}/strategy-courses/${s.slug}`,P=`${d}/wp-content/themes/kingdom-training-theme/dist/kt-logo-header.webp`;return e.jsxs("article",{children:[e.jsx(J,{title:l,description:v,keywords:D,image:s.featured_image_url,url:`/strategy-courses/${s.slug}`,type:"article",author:(j=s.author_info)==null?void 0:j.name,publishedTime:s.date,modifiedTime:s.modified}),e.jsx(K,{course:{name:l,description:v,provider:{name:"Kingdom.Training",url:d},courseCode:s.steps?`MVP-STEP-${s.steps}`:void 0,educationalLevel:"Professional Development",teaches:["Media to Disciple Making Movements","Digital Evangelism","Online Ministry Strategy","Disciple Making Movements"],image:s.featured_image_url||P},breadcrumbs:{items:[{name:a("breadcrumb_home"),url:d},{name:a("nav_strategy_courses"),url:`${d}/strategy-courses`},{name:l,url:E}]}}),s.featured_image_url&&e.jsx(Q,{src:s.featured_image_url,alt:s.title.rendered}),e.jsx("div",{className:"container-custom py-12 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[e.jsx(X,{postId:s.id}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:a("course_strategy_course")})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:s.steps&&s.steps>=1&&s.steps<=20?`${s.steps}. ${s.title.rendered}`:s.title.rendered})]}),t.length>0&&t.some(r=>r.slug===o)&&e.jsx(B,{stepSlugs:t.map(r=>r.slug),totalSteps:t.length,className:"mb-8"}),e.jsx("div",{className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-headings:font-bold prose-h1:text-4xl prose-h2:text-3xl prose-h3:text-2xl prose-p:my-6 prose-strong:text-gray-900 prose-strong:font-bold prose-a:text-primary-500 prose-a:no-underline hover:prose-a:underline prose-ul:my-6 prose-ol:my-6 prose-li:my-2",dangerouslySetInnerHTML:{__html:s.content.rendered}}),M&&e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[m?e.jsxs(p,{to:x(`/strategy-courses/${m.slug}`,n||null,i),className:"inline-flex items-center px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:border-primary-500 hover:text-primary-600 transition-all duration-200",children:[e.jsx(Z,{className:"w-5 h-5 mr-2"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:a("nav_previous")}),e.jsx("div",{className:"text-sm font-semibold",children:g("nav_step",{number:m.steps||t.indexOf(m)+1})})]})]}):e.jsx("div",{}),c?e.jsxs(p,{to:x(`/strategy-courses/${c.slug}`,n||null,i),className:"inline-flex items-center px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-lg transition-colors duration-200",children:[e.jsxs("div",{className:"text-right mr-2",children:[e.jsx("div",{className:"text-xs text-white/80 uppercase tracking-wide",children:a("nav_next")}),e.jsx("div",{className:"text-sm font-semibold",children:g("nav_step",{number:c.steps||t.indexOf(c)+1})})]}),e.jsx(N,{className:"w-5 h-5"})]}):e.jsxs(p,{to:x("/strategy-courses",n||null,i),className:"inline-flex items-center px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-lg transition-colors duration-200",children:[e.jsx("span",{children:a("nav_back_to_course_overview")}),e.jsx(N,{className:"w-5 h-5 ml-2"})]})]})})]})}),y.length>0&&e.jsx("section",{className:"py-16 bg-background-50 border-t border-gray-200",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:a("content_additional_resources")}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed max-w-3xl mx-auto",children:a("content_supplementary_materials")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(r=>e.jsx(G,{post:r,type:"strategy-courses",lang:n||null,defaultLang:i},r.id))})]})})})]})}export{le as default};
