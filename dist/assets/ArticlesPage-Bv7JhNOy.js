var N=Object.defineProperty;var P=(n,i,t)=>i in n?N(n,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[i]=t;var r=(n,i,t)=>P(n,typeof i!="symbol"?i+"":i,t);import{r as u,j as s,b as _,d as L,u as C,h as R,e as S,p as E}from"./main-D478NNWS.js";import{P as $}from"./PageHeader-B2ozDAtv.js";import{C as z}from"./ContentCard-Bj6E3VJY.js";import{u as H,S as A}from"./useTags-Cp6sS59X.js";import{S as I}from"./SEO-D6R6bQbr.js";import{u as F,a as W,f as D}from"./useArticles-pbLeU0VJ.js";const q=[{type:"standard",color:"color-1"},{type:"tall",color:"color-2"},{type:"wide",color:"color-3"},{type:"standard",color:"color-1"},{type:"thin",color:"color-2"},{type:"tall",color:"color-3"},{type:"standard",color:"color-1"},{type:"wide",color:"color-2"}];class M{constructor(i,t,o){r(this,"element");r(this,"x");r(this,"y");r(this,"vx");r(this,"vy");r(this,"size");r(this,"lifetime");r(this,"age");r(this,"delay");r(this,"delayed");r(this,"opacity");r(this,"blur");r(this,"colorClass");this.element=document.createElement("div"),this.element.className="spark";const l=["color-1","color-2","color-3","color-4","color-5"];this.colorClass=l[Math.floor(Math.random()*l.length)],this.element.classList.add(this.colorClass);const d=window.innerWidth*.2,m=window.innerWidth*.8;if(this.x=d+Math.random()*(m-d),o!==void 0?this.y=o:this.y=window.innerHeight*.7+Math.random()*(window.innerHeight*.25),this.vx=(Math.random()-.5)*.8,this.vy=-2-Math.random()*2,this.size=2+Math.random()*3,this.element.style.width=`${this.size}px`,this.element.style.height=`${this.size}px`,this.lifetime=3e3+Math.random()*4e3,this.age=t!==void 0?t:0,this.delay=0,this.delayed=!0,this.opacity=0,this.blur=0,t!==void 0&&t>0){const h=this.age/this.lifetime,y=(window.innerHeight-this.y)/window.innerHeight;h<.1?this.opacity=h/.1:h>.8?this.opacity=(1-h)/.2:this.opacity=.6+Math.sin(h*Math.PI*4)*.2,this.blur=y*3;const g=.7+Math.sin(this.age/500)*.3;this.element.style.opacity=(this.opacity*g*.6).toString(),this.element.style.filter=`blur(${this.blur}px)`}this.updatePosition(),i.appendChild(this.element)}updatePosition(){this.element.style.left=`${this.x}px`,this.element.style.top=`${this.y}px`}update(i){if(!this.delayed){if(this.delay-=i,this.delay>0)return this.element.style.opacity="0",!0;this.delayed=!0}this.age+=i,this.x+=this.vx,this.y+=this.vy,this.vx+=(Math.random()-.5)*.1,this.vy+=(Math.random()-.5)*.05,this.vx*=.99,this.vy*=.995;const t=this.age/this.lifetime,o=(window.innerHeight-this.y)/window.innerHeight;t<.1?this.opacity=t/.1:t>.8?this.opacity=(1-t)/.2:this.opacity=.6+Math.sin(t*Math.PI*4)*.2,this.blur=o*3;const l=.7+Math.sin(this.age/500)*.3;return this.element.style.opacity=(this.opacity*l*.6).toString(),this.element.style.filter=`blur(${this.blur}px)`,this.updatePosition(),this.age>=this.lifetime||this.y<-50||this.x<-50||this.x>window.innerWidth+50?(this.element.remove(),!1):!0}}function B(){const n=u.useRef(null),i=u.useRef(null),t=u.useRef([]),o=u.useRef(),l=u.useRef(performance.now()),d=u.useRef(0),m=2500,h=20;return u.useEffect(()=>{n.current&&q.forEach(a=>{const c=document.createElement("div");c.className=`book ${a.type} ${a.color}`,n.current.appendChild(c)});function y(){if(!i.current)return;const a=Math.min(m,2e3);for(let c=0;c<a;c++){const e=new M(i.current);e.delayed=!0,e.delay=0;const w=5e3;e.age=Math.random()*w;const f=50,x=e.age/f;for(let b=0;b<f;b++)e.x+=e.vx*(x/16.67),e.y+=e.vy*(x/16.67),e.vx*=.99,e.vy*=.995,e.vx+=(Math.random()-.5)*.1*(x/16.67),e.vy+=(Math.random()-.5)*.05*(x/16.67);const p=e.age/e.lifetime,j=(window.innerHeight-e.y)/window.innerHeight;p<.1?e.opacity=p/.1:p>.8?e.opacity=(1-p)/.2:e.opacity=.6+Math.sin(p*Math.PI*4)*.2,e.blur=j*3;const k=.7+Math.sin(e.age/500)*.3;e.element.style.opacity=(e.opacity*k*.6).toString(),e.element.style.filter=`blur(${e.blur}px)`,e.updatePosition(),t.current.push(e)}}y();function g(a){const c=a-l.current;if(l.current=a,i.current&&a-d.current>=h){if(t.current.length<m){const e=new M(i.current);t.current.push(e)}d.current=a}for(let e=t.current.length-1;e>=0;e--)t.current[e].update(c)||t.current.splice(e,1);o.current=requestAnimationFrame(g)}o.current=requestAnimationFrame(g);function v(){t.current.forEach((a,c)=>{(a.x<-100||a.x>window.innerWidth+100)&&(a.element.remove(),t.current.splice(c,1))})}return window.addEventListener("resize",v),()=>{o.current&&cancelAnimationFrame(o.current),window.removeEventListener("resize",v),t.current.forEach(a=>a.element.remove()),t.current=[]}},[]),s.jsxs("div",{className:"ideas-background absolute inset-0 overflow-hidden pointer-events-none z-0",children:[s.jsx("div",{ref:n,className:"books-container"}),s.jsx("div",{ref:i,className:"sparks-container"})]})}function V(){const{lang:n}=_(),i=L(),{t}=C(),[o]=R(),l=S(),d=n||E(i.pathname).lang||void 0,m=d||l||null,h=o.get("category"),y=o.get("tag"),{data:g=[],isLoading:v}=F({per_page:100,orderby:"date",order:"desc",article_categories:h||void 0,tags:y||void 0,lang:m||void 0}),{data:a=[],isLoading:c}=W(),{data:e=[],isLoading:w}=H({hide_empty:!0,post_type:"articles"}),f=u.useMemo(()=>D(g,m),[g,m]);return v||c||w?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"}),s.jsx("p",{className:"mt-4 text-gray-600",children:t("ui_loading")})]})}):s.jsxs(s.Fragment,{children:[s.jsx(I,{title:t("page_articles"),description:t("seo_articles_description"),keywords:"M2DMM articles, disciple making movements, media strategy, digital evangelism, church planting articles, online ministry, practical discipleship, field insights, kingdom training articles",url:"/articles"}),s.jsx($,{title:t("page_articles"),description:t("seo_articles_description"),backgroundClass:"bg-gradient-to-r from-secondary-900 to-secondary-700",backgroundComponent:s.jsx(B,{})}),s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"container-custom",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(A,{categories:a,tags:e,basePath:d?`/${d}/articles`:"/articles"})}),s.jsx("div",{className:"lg:col-span-3",children:f.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:f.map(p=>s.jsx(z,{post:p,type:"articles",lang:d||null,defaultLang:l},p.id))}):s.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-6xl mb-4",children:"üìù"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:t("content_no_articles_found")}),s.jsx("p",{className:"text-gray-600",children:t("content_no_articles_try")})]})})]})})})]})}export{V as default};
