import{j as e}from"./vendor-query-sc-3RV5c.js";import{r as o}from"./vendor-react-BsyC4uYt.js";import{g as _,l as j,a as v}from"./auth-BiqxfGvi.js";import{P as p}from"./PageHeader-D-7p38kC.js";import{S as x}from"./SEO-BQWZoWKI.js";import N from"./NeuralBackground-EMvNl9cH.js";import{u as k}from"./main-YxdjXk1Z.js";import"./vendor-helmet-BvUtKEoN.js";import"./vendor-ui-BIzQpSM7.js";function R(){const{t:r,tWithReplace:i}=k(),[d,h]=o.useState(""),[c,f]=o.useState(""),[m,t]=o.useState(""),[u,g]=o.useState(!1),[s,n]=o.useState(null);o.useEffect(()=>{b()},[]);const b=async()=>{try{const a=await _();a&&n(a)}catch{n(null)}},y=async a=>{a.preventDefault(),t(""),g(!0);try{const l=await j(d,c);n(l),setTimeout(()=>{window.location.href="/wp-admin"},500)}catch(l){t(l.message||r("error_login_failed"))}finally{g(!1)}},w=async()=>{try{await v(),n(null),t("")}catch(a){t(a.message||r("error_logout_failed"))}};return s?e.jsxs(e.Fragment,{children:[e.jsx(x,{title:r("page_logged_in"),description:i("page_welcome_back",{name:s.name}),url:"/login",noindex:!0,nofollow:!0}),e.jsx(p,{title:r("page_logged_in"),description:i("page_welcome_back",{name:s.name}),backgroundClass:"bg-gradient-to-r from-secondary-900 to-secondary-700"}),e.jsx("div",{className:"container-custom py-16",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[e.jsxs("div",{className:"mb-6",children:[s.avatar&&e.jsx("img",{src:s.avatar,alt:s.name,loading:"lazy",decoding:"async",className:"w-20 h-20 rounded-full mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.email})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("a",{href:"/wp-admin",className:"block w-full px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-lg transition-colors",children:r("nav_go_to_admin")}),e.jsx("button",{onClick:w,className:"block w-full px-6 py-3 border-2 border-gray-300 hover:border-gray-400 text-gray-700 font-semibold rounded-lg transition-colors",children:r("nav_log_out")})]})]})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{title:r("page_login"),description:r("seo_login_description"),url:"/login",noindex:!0,nofollow:!0}),e.jsx(p,{title:r("page_login"),backgroundClass:"bg-gradient-to-r from-secondary-900 to-secondary-700",backgroundComponent:e.jsx(N,{})}),e.jsx("div",{className:"container-custom py-16",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[m&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:m}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:r("form_username_email")}),e.jsx("input",{id:"username",type:"text",value:d,onChange:a=>h(a.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:r("form_username_email_placeholder")})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:r("form_password")}),e.jsx("input",{id:"password",type:"password",value:c,onChange:a=>f(a.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:r("form_password_placeholder")})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full px-6 py-3 bg-primary-500 hover:bg-primary-600 disabled:bg-gray-400 text-white font-semibold rounded-lg transition-colors",children:r(u?"ui_logging_in":"nav_log_in")})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:"/wp-login.php?action=lostpassword",className:"text-sm text-primary-500 hover:text-primary-600",children:r("nav_forgot_password")})})]})})})]})}export{R as default};
