import{c as m,u as p,r as n,j as s}from"./main-D478NNWS.js";import{g as h}from"./auth-BiqxfGvi.js";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],g=m("square-pen",f);function y({postId:r}){const{t:a}=p(),[i,l]=n.useState(null),[d,c]=n.useState(!0);if(n.useEffect(()=>{console.log("AdminEditLink - Component mounted, postId:",r);async function e(){try{const t=await h();l(t),t?(console.log("AdminEditLink - User:",t),console.log("AdminEditLink - Roles:",t.roles),console.log("AdminEditLink - Capabilities:",t.capabilities)):console.log("AdminEditLink - No user returned from getCurrentUser()")}catch(t){console.error("AdminEditLink - Error fetching user:",t),l(null)}finally{c(!1)}}e()},[r]),d||!i||!(()=>{if(i.roles&&Array.isArray(i.roles)&&(i.roles.includes("administrator")||i.roles.includes("editor")))return console.log("AdminEditLink - User has editor/administrator role"),!0;if(!i.capabilities)return console.log("AdminEditLink - No capabilities found"),!1;if(Array.isArray(i.capabilities)){const e=i.capabilities.includes("edit_posts")||i.capabilities.includes("edit_others_posts")||i.capabilities.includes("administrator");return console.log("AdminEditLink - Array capabilities check:",e),e}else if(typeof i.capabilities=="object"&&i.capabilities!==null){const e=i.capabilities,t=e.edit_posts===!0||e.edit_others_posts===!0||e.administrator===!0||e.edit_posts===1||e.edit_others_posts===1||e.administrator===1||e.edit_posts==="1"||e.edit_others_posts==="1"||e.administrator==="1"||e.level_10===!0||e.level_10===1||e.level_10==="1"||Object.keys(e).some(o=>o==="administrator"||o==="editor"||o.startsWith("edit_")&&e[o]);return console.log("AdminEditLink - Object capabilities check:",t,"Keys:",Object.keys(e)),t}return console.log("AdminEditLink - Capabilities format not recognized"),!1})())return null;const u=`/wp-admin/post.php?post=${r}&action=edit`;return s.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"fixed top-20 right-4 z-50 p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow duration-200 border border-gray-200 hover:border-primary-500 group",title:a("admin_edit_link_title"),"aria-label":a("admin_edit_link_aria_label"),children:s.jsx(g,{className:"w-5 h-5 text-gray-600 group-hover:text-primary-500 transition-colors duration-200"})})}function x({src:r,alt:a}){return s.jsxs("div",{className:"w-full h-48 md:h-96 bg-gray-200 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 w-full h-full",style:{backgroundImage:`url(${r})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(20px)",transform:"scale(1.1)"},"aria-hidden":"true"}),s.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:s.jsx("img",{src:r,alt:a,loading:"eager",decoding:"async",fetchPriority:"high",className:"max-w-full max-h-full object-contain"})})]})}export{y as A,x as F};
